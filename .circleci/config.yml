# Use the latest 2.1 version of CircleCI pipeline process engine.
# See: https://circleci.com/docs/2.0/configuration-reference
version: 2.1

orbs:
  #slack: circleci/slack@4.1.4
  #aws-cli: circleci/aws-cli@1.3.0

# Define a job to be invoked later in a workflow.
# See: https://circleci.com/docs/2.0/configuration-reference/#jobs
jobs:
  Spinup-Test-Python:
    docker:
      - image: circleci/python:3.9.7-buster
    steps:
      - checkout
      - run:
          name: Check directory
          working_directory: ~/
          command: ls -la && pwd
      - run:
          name: Git netbox repo
          command: git clone https://github.com/netbox-community/netbox-docker.git netbox_src
      - run:
          name: Install Docker-compose
          working_directory: ~/
          command: sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
      - run:
          name: Pull netbox docker
          working_directory: ~/netbox_src
          command: sudo docker-compose pull

# Invoke jobs via workflows
# See: https://circleci.com/docs/2.0/configuration-reference/#workflows
workflows:
   Spinup-Test-Python:
    jobs:
      -  Spinup-Test-Python
